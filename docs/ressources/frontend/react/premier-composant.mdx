---
sidebar_position: 3
title: "Premier composant"
description: "Voyons ensemble comment notre premier composant React !"
tags:
  - Frontend
  - React
  - JavaScript/TypeScript
  - Biblioth√®que
  - Interface utilisateur (UI)
---

import Admonition from '@theme/Admonition';
import TabItem from '@theme/TabItem';
import Tabs from '@theme/Tabs';

# Premier composant React

## Introduction

Rentrons maintenant dans le vif du sujet en cr√©ant notre premier composant React !  
Dans cet article, on va faire un composant tr√®s simple : un **dumb component** qui sera tout simplement un bouton.

<Admonition type="quote" title="Un... dumb component ?">
  Un **dumb component** est un composant React qui ne contient pas de logique.  
  Enfin si, il peut en contenir _(mais rien de foufou)_, son r√¥le est de simplement afficher des donn√©es.

  En gros :
  - Il ne fait que de l'affichage
  - Il ne fait pas de calculs
  - Il ne fait pas de requ√™tes HTTP
</Admonition>

## ‚öôÔ∏è Syntaxes pour cr√©er un composant

Il existe plusieurs fa√ßons de cr√©er un composant React.

La plus simple est de cr√©er une fonction qui retourne du JSX, mais il est aussi possible de cr√©er une classe qui √©tend `React.Component`.

Cependant, on ne va pas s'attarder sur la d√©claration de composants dans des classes.

Pourquoi ? D√©j√† parce que la [documentation officielle](https://react.dev/reference/react/Component) recommande d√©sormais de d√©finir des composants en tant que fonctions, mais surtout parce que c'est plus simple et plus lisible ! üöÄ

## üë∑ Cr√©ation du composant

Allez c'est parti, occupons-nous de notre premier composant React !

```jsx title="Button.jsx" showLineNumbers
import React from 'react';

export const Button = () => {
  return <button>Click me</button>;
};
```

... et c'est tout ! üéâ  
On a cr√©√© notre premier composant React, c'est pas beau √ßa ?

Bon √©videmment, il reste extr√™mement sommaire et n'a pas d'int√©r√™t √† l'heure actuelle, mais c'est un bon d√©but !

Avant d'aller plus loin, d√©cortiquons un peu ce code :

- On importe `React` depuis la librairie React _(ligne 1)_
- On cr√©e une fonction fl√©ch√©e `Button` _(lignes 3 √† 5)_
  - Cette fonction retourne un √©l√©ment JSX `<button>Click me</button>`

## üß© Utilisation du composant

C'est bien beau d'avoir un composant, mais maintenant il faut l'utiliser !

```jsx title="App.jsx" {3,9} showLineNumbers
import React from 'react';

import { Button } from './Button';

export const App = () => {
  return (
    <div>
      <h1>Mon premier composant React</h1>
      <Button />
    </div>
  );
};
```

On importe notre composant `Button` _(ligne 3)_ et on l'utilise dans notre composant `App` _(ligne 9)_.

Rien de bien sorcier, n'est-ce pas ? üòä

Mais maintenant, on va vouloir donner un peu plus de vie √† notre bouton...  
Parce que l√† pour le coup, il est inutile. üòÖ

## üì¶ Props

Les **props** _(pour properties)_ sont des arguments que l'on peut passer √† un composant React.  
Il s'agit en quelque sorte des param√®tres d'une fonction.

Imaginons ici que l'on veut rajouter :

- Un texte au bouton
- Une action √† effectuer lorsqu'on clique dessus

Avant de t'expliquer **comment** faire, je vais te montrer **ce que** √ßa donne pour son utilisation :

```jsx title="App.jsx" {3,6,11-13} showLineNumbers
import React from 'react';

import { Button } from './Button';

export const App = () => {
  const handleClick = () => console.log('Je suis cliqu√© !');

  return (
    <div>
      <h1>Mon premier composant React</h1>
      <Button onClick={handleClick}>
        Clique-moi !
      </Button>
    </div>
  );
};
```

Voyons un peu ce qui change !

- Fonction `handleClick` qui affiche un message dans la console _(ligne 6)_
- On passe la fonction `handleClick` en tant que prop `onClick` √† notre composant `Button` _(ligne 11)_
- On passe le texte `Clique-moi !` entre la balise ouvrante et fermante de notre composant `Button` _(ligne 12)_

Mais alors, comment on fait pour r√©cup√©rer ces props dans notre composant `Button` ?

<Tabs>
  <TabItem value="js" label="JavaScript">
    ```jsx title="Button.jsx" showLineNumbers
    import React from 'react';

    export const Button = (props) => {
      return <button onClick={props.onClick}>{props.children}</button>;
    };
    ```
  </TabItem>

  <TabItem value="ts" label="TypeScript">
    ```tsx title="Button.tsx" showLineNumbers
    import React from 'react';

    type ButtonProps = {
      onClick: () => void;
      children: React.ReactNode;
    };

    export const Button = (props: ButtonProps) => {
      return <button onClick={props.onClick}>{props.children}</button>;
    };
    ```
  </TabItem>
</Tabs>

Comme tu peux voir, on r√©cup√®re les props pass√©es √† notre composant `Button` en tant que param√®tre de la fonction.

Mais tu peux √©galement remarquer qu'il y a une propri√©t√© `children` qui n'est pas pass√©e de la m√™me mani√®re que `onClick`.

C'est totalement normal ! `children` est une prop sp√©ciale qui contient tout ce qui se trouve entre les balises ouvrante et fermante du composant.

<Admonition type="quote" title="Le JavaScript inline, c'est pas bien !">
  Tu as totalement raison ! On recommande effectivement de ne pas faire du JS inline dans notre HTML et de privil√©gier un fichier distinct pour notre JavaScript.  
  Et donc tu sais d√©j√† qu'on va pr√©f√©rer l'utilisation des `addEventListener` üòè

  ... cependant ici, **on ne fait pas du HTML** mais du JSX, et c'est une autre histoire ! 
</Admonition>

## üñáÔ∏è Les diff√©rentes props

Il existe plusieurs props que l'on peut passer √† un composant React :

- `children` : Contient tout ce qui se trouve entre les balises ouvrante et fermante du composant
- les autres props : Tout ce qui est pass√© en dehors des balises ouvrante et fermante du composant

Alors √©videmment, cette explication est tr√®s r√©ductrice, mais on va s'en contenter pour le moment.

Mais tu te doutes bien qu'il existe des props sp√©cifiques √† certains √©l√©ments HTML qui peuvent √™tre pass√©es √† un composant React.

### üîí Mots cl√©s prot√©g√©s

En HTML, il existe des attributs qui sont utilis√©s dans certains √©l√©ments HTML. Cependant, comme ici on ne fait pas du HTML mais du JSX, on ne va pas pouvoir les utiliser tels quels.

Pour te donner un exemple concret, si tu veux ajouter une classe CSS √† un √©l√©ment, tu ne pourras pas utiliser l'attribut `class` mais `className`.

Mais alors, pourquoi ?

Comme le JSX reste avant tout du JavaScript, on ne peut pas utiliser des mots-cl√©s r√©serv√©s comme `class`, `for`, `default`, etc.

<details>
  <summary>Plus d'informations sur les mots-cl√©s prot√©g√©s</summary>

  React comprendra ces mots cl√©s au sein des composants, cependant il va g√©n√©rer un avertissement dans la console du navigateur pour te pr√©venir que tu utilises un mot-cl√© prot√©g√© qui est "ambigu".

  Cependant, certaines biblioth√®ques qui utilisent le JSX, comme [SolidJS](https://www.solidjs.com/) par exemple, utilisent ces mots-cl√©s prot√©g√©s au sein des composants. Ca ne veut pas dire que c'est "bien" ou "pas bien", mais qu'il faut √™tre conscient de ce que l'on fait et de comment est interpr√©t√© notre code par la biblioth√®que üòâ
</details>

On va donc utiliser des noms d'attributs qui sont similaires √† ceux du HTML, mais qui sont adapt√©s pour le JSX.

- `class` devient `className` _(pour les classes CSS)_
- `for` devient `htmlFor` _(pour les labels)_
- `default` devient `defaultValue` _(pour les champs de formulaire)_

Et il en existe bien d'autres, mais on va s'arr√™ter l√† pour le moment ! üòä

### üëÇ √âcouteurs d'√©v√©nements

Il existe √©galement des attributs sp√©cifiques pour les √©couteurs d'√©v√©nements.  
Tu as notamment pu d√©j√† faire la rencontre de `onClick`, mais il en existe bien d'autres !

Il s'agit de la syntaxe √† adopter avec React pour ajouter des √©couteurs d'√©v√©nements √† des composants JSX, et non pas d'utiliser `addEventListener` directement dans le JavaScript üòâ

J'aimerai beaucoup pouvoir te donner une liste d'exemples d'√©couteurs d'√©v√©nements, mais il y en a tellement que je ne pourrais pas tous les citer ici.  
La forme √©tant toujours la m√™me, tu peux facilement savoir comment les √©crire !

La forme est simple :
- Pr√©fixe : `on`
- √âv√©nement : nom de l'√©v√©nement en camelCase

Par exemple :
- `click` => `onClick`
- `change` => `onChange`
- `submit` => `onSubmit`
- `mouseenter` => `onMouseEnter`
- `mouseleave` => `onMouseLeave`

Et si tu cherches une liste compl√®te des √©couteurs d'√©v√©nements, je t'invite √† tout simplement consulter le [MDN Web Docs](https://developer.mozilla.org/fr/docs/Web/Events) qui est une mine d'or pour tout ce qui est li√© au d√©veloppement web !

Au d√©but, on peut trouver √ßa un peu d√©routant puisqu'on va naturellement les associer √† du HTML, mais il faut se rappeler qu'on est dans du JSX _(oui, j'insiste beaucoup l√†-dessus !)_.

## Conclusion

Et voil√†, on a cr√©√© notre premier composant React !  
On a m√™me rapidement vu comment passer des props √† un composant et comment les r√©cup√©rer.

Et si pour le prochain article, on parle un peu des states pour rajouter un peu d'int√©ractivit√© √† nos composants ?    
Parce que c'est d√©j√† cool ce qu'on a pu faire, mais on peut faire tellement plus avec React ! üöÄ
