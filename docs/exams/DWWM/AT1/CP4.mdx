---
sidebar_position: 4
title: "CP 4"
---

import Admonition from "@theme/Admonition";
import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

# D√©velopper la partie dynamique des interfaces utilisateur web ou web mobile

## üìö R√©f√©rences

- REAC _(mise √† jour du 03/07/2024)_, pages 21 et 22
- RE _(mise √† jour du 03/07/2024)_, page 10

## üìã En r√©sum√©

√áa y est, on commence √† parler d√©veloppement pour de vrai maintenant ! On quitte doucement l'int√©gration pour maintenant rajouter de l'interactivit√© √† nos interfaces utilisateur, ce qui veut dire "utilisation d'un langage script c√¥t√© client", soit...

<iframe
  src="https://giphy.com/embed/SvFocn0wNMx0iv2rYz"
  width="480"
  height="480"
  frameBorder="0"
  class="mx-auto my-4"
></iframe>

C'est le meilleur moment pour parler de nombreuses fonctionnalit√©s impl√©ment√©es sur ton application avec Javascript, comme :

- Les formulaires dynamiques _(ajout/suppression de champs, v√©rification des donn√©es, etc.)_
- Les animations _(chargement d'un t√©moin de chargement, apparition/disparition d'√©l√©ments, etc.)_
- Les interactions avec l'utilisateur _(drag and drop, ouverture de fen√™tre modale, etc.)_
- Les appels √† des services web _(API REST, etc.)_

<Admonition type="warning" title="Consommation d'API">
Bien que j'ai mentionn√© le fait que faire des appels √† des services web corresponde enti√®rement √† cette CP, il est important de noter que la consommation d'API est une comp√©tence √† part enti√®re, qui sera abord√©e dans la CP 7 qui correspond √† la mise en place de services web et composants m√©tier.

Ne te focalise donc pas sur ce que fait l'API en arri√®re plan, concentre toi sur comment configurer tes requ√™tes et comment traiter les r√©ponses obtenues !

</Admonition>

<Admonition type="tip" title="Mon site est fait avec React/Angular/Vue.js, donc je valide automatiquement cette CP ?" icon="ü§î">
Pas si vite ! üòè  
Effectivement, ton site r√©pond _(en th√©orie)_ en tous points pour la comp√©tence actuelle, mais il est important de montrer que tu sais comment fonctionne le Javascript "vanilla" _(c'est-√†-dire sans framework ou biblioth√®que)_.

Si tu as utilis√© un framework, tu peux tout √† fait montrer des extraits de code en Javascript pur pour montrer que tu sais comment √ßa fonctionne "sous le capot" !

Mais on ne va pas se le cacher, si tu as r√©ussi √† r√©aliser un projet avec un framework, c'est d√©j√† un tr√®s bon point pour toi qui permet de d√©montrer que tu as de bonnes connaissances en Javascript.  
Cependant il va potentiellement y avoir un d√©faut majeur sur ton projet : le r√©f√©rencement naturel _(SEO)_.

</Admonition>

<Admonition type="info" title="R√©f√©rencement d'un site g√©n√©r√© c√¥t√© client _(comme React, Vue.js etc)_">
Les sites web g√©n√©r√©s c√¥t√© client _(ou "client-side rendering")_ ont un d√©faut majeur : ils ne sont pas tr√®s bien r√©f√©renc√©s par les moteurs de recherche.

En effet, les moteurs de recherche ont du mal √† lire le contenu d'un site g√©n√©r√© c√¥t√© client, car ils n'ex√©cutent pas le Javascript.  
C'est pour cela qu'il est recommand√© de mettre en place un rendu c√¥t√© serveur _(ou "server-side rendering")_ pour am√©liorer le r√©f√©rencement naturel de ton site.

Si tu veux en savoir plus sur le sujet, tu peux consulter [cet article de Google](https://web.dev/articles/rendering-on-the-web?hl=fr#rendering-terminology).

De mon c√¥t√©, je recommande √©norm√©ment de passer par le framework [Vike](https://vike.dev/) qui permet de g√©n√©rer des sites web ultra-rapides avec un rendu c√¥t√© serveur et un rendu c√¥t√© client, le tout en utilisant Vue.js, React ou (presque) n'importe quel autre framework front-end Javascript !

Tu as aussi la possibilit√© d'utiliser [Next.js](https://nextjs.org/) pour React, [Nuxt.js](https://nuxtjs.org/) pour Vue.js ou [SvelteKit](https://kit.svelte.dev/) pour Svelte qui permettent de faire du rendu c√¥t√© serveur.

</Admonition>

## ‚ûï Informations compl√©mentaires

Je me permets √©galement de l√¢cher une bombe sur une certaine techno JS : **jQuery**.  
Bon sang, celui-l√† il me fait penser √† un vieux pote qui a pris un coup de vieux... üòÖ

<Admonition type="tip" icon="ü§î" title="jQuery, c'est quoi ?">
jQuery est une biblioth√®que Javascript qui a √©t√© tr√®s populaire dans les ann√©es 2000 et 2010.
Elle a √©t√© cr√©√©e pour simplifier l'√©criture de scripts Javascript et pour faciliter la manipulation du DOM.

jQuery a √©t√© tr√®s utilis√©e pour les animations, les requ√™tes AJAX, la manipulation du DOM, etc.
Mais depuis l'arriv√©e des frameworks front-end comme React, Angular ou Vue.js, jQuery a perdu de sa superbe et est de moins en moins utilis√©e.

Cependant, il est toujours bon de conna√Ætre jQuery, car il est possible que tu tombes sur un projet qui l'utilise encore, comme sur des templates Wordpress qui commencent √† dater par exemple.

</Admonition>

Mais alors, pourquoi je te parle de jQuery ?

Eh bien.. pour faire simple, aujourd'hui jQuery est relativement obsol√®te et surtout tr√®s lourd pour ce que √ßa rajoute √† un projet.  
Dans la mesure du possible, il est recommand√© de ne pas utiliser jQuery pour un nouveau projet, et de pr√©f√©rer Javascript "vanilla" ou un framework ou biblioth√®que front-end comme React, Angular ou Vue.js _(attention, d'un point de vue √©co-conception l'utilisation d'un framework n'est pas forc√©ment la meilleure solution)_.

<Admonition type="tip" icon="üò±" title="Mais comment je vais faire pour mes consommations d'API, vu que j'utilisais `jQuery.ajax()` ?!">
Tout doux, tout doux, il existe une solution ! üòé

Si je te parle des requ√™tes XHR _(XMLHttpRequest)_ tu me dis... ?

> "Mais c'est vieux √ßa, c'est pas du tout √† la mode !"

Et tu as raison, mais si maintenant je te dis qu'il y a une autre solution, native, plus moderne et plus performante, tu me dis... ?

> "Fetch !"

**Et sinon, pour faire simple :**

Fetch est une API plus moderne et plus simple √† utiliser que les requ√™tes XHR, et elle est support√©e par tous les navigateurs modernes.  
Elle permet de faire des requ√™tes HTTP de mani√®re asynchrone et de g√©rer les r√©ponses de mani√®re plus simple.

<Tabs>
  <TabItem value="XHR">
  ```javascript showLineNumbers
const xhr = new XMLHttpRequest();
xhr.open('GET', 'https://api.exemple.com/data', true);
xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status === 200) {
        console.log(JSON.parse(xhr.responseText));
    }
};
xhr.send();
    ```
  </TabItem>
  <TabItem value="jQuery">
  ```javascript showLineNumbers
$.ajax({
    url: 'https://api.exemple.com/data',
    method: 'GET',
    success: function(data) {
        console.log(data);
    }
});
    ```
  </TabItem>
  <TabItem value="Fetch">
  ```javascript showLineNumbers
fetch('https://api.exemple.com/data')
    .then((response) => response.json())
    .then((data) => console.log(data));
    ```
  </TabItem>
</Tabs>

Non seulement `fetch` est plus simple √† utiliser et comprendre _(contrairement √† XMLHttpRequest)_ mais elle est √©galement plus l√©g√®re que `jQuery.ajax()` puisqu'elle est native au navigateur ! Alors pourquoi s'en priver ? üòâ

</Admonition>

## üéØ Crit√®res d'√©valuation

- L‚Äôinterface utilisateur est conforme au dossier de conception
- L‚Äôinterface est dynamique et l‚Äôexp√©rience utilisateur est am√©lior√©e, y compris pour les personnes en situation de handicap
- Les recommandations de s√©curit√© li√©es aux applications web et web mobile sont respect√©es
- La r√®glementation en vigueur sont respect√©es, y compris celle relative √† l‚Äôaccessibilit√©
- Le code est document√©, y compris en anglais _(niveau B1 CECRL pour l‚Äôanglais)_
- Le jeu d‚Äôessai fonctionnel est complet et les tests unitaires sont r√©alis√©s pour les composants concern√©s
- Les tests de s√©curit√© sont r√©alis√©s

## ü§Ø Aller plus loin _(hors r√©f√©rentiel)_

Plus t√¥t, dans la CP 3, je t'ai parl√© d'une astuce d'√©co-conception pour diff√©rer le chargement des images avec l'attribut `loading="lazy"` sur les balises `<img>`. Mais on peut aller encore plus loin que simplement diff√©rer le chargement des images !

On peut √©galement diff√©rer le chargement des scripts Javascript avec l'attribut defer sur les balises `<script>`.

<Admonition type="tip" title="`defer` sur les balises `<script>`">
Si √ßa te rassure, √ßa ne cassera pas ton site web et au contraire, √ßa peut m√™me l'am√©liorer !
L'int√©r√™t premier de cet attribut est de diff√©rer l'ex√©cution du script jusqu'√† ce que le document HTML soit enti√®rement charg√©.

L'avantage de cette technique est qu'on va demander au navigateur de charger le script en parall√®le du reste du contenu, sans bloquer le chargement de la page.
Comme √ßa : pas de page blanche pendant le chargement du script, et le script sera ex√©cut√© une fois que le navigateur aura fini de charger le reste de la page !

```html
<script src="script.js" defer></script>
```

</Admonition>

---

## üß† Documentations

## üõ†Ô∏è Outils
